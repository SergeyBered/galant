<?php
 namespace UmiCms\Classes\System\PageNum\Agent;use UmiCms\System\Utils\iUrl;use UmiCms\System\Session\iSession;class Admin extends Common implements iAdmin {private $sessionContainer;public function setSessionContainer(iSession $v4a72a61c1fca4e6ff7f22f13fccfb053) : iAdmin {$this->sessionContainer = $v4a72a61c1fca4e6ff7f22f13fccfb053;return $this;}public function resolve(string $v572d4e421e5e6b9bc11d815e8a027112) : int {$v3bfc3e29cbe503271e73702fc7b2a1f1 = $this->urlFactory->create($v572d4e421e5e6b9bc11d815e8a027112);if ($this->issetPageNumber($v572d4e421e5e6b9bc11d815e8a027112)) {$this->storePageNumber($v3bfc3e29cbe503271e73702fc7b2a1f1, $this->getPageNumber($v3bfc3e29cbe503271e73702fc7b2a1f1));}$vb1bc248a7ff2b2e95569f56de68615df = $this->getStoredPageNumber($v3bfc3e29cbe503271e73702fc7b2a1f1);return $this->normalisePageNumber($vb1bc248a7ff2b2e95569f56de68615df);}protected function getStoredPageNumber(iUrl $v572d4e421e5e6b9bc11d815e8a027112) : int {$vfee6447a1b671db315059e8e91473833 = (array) $this->sessionContainer->get('paging');$vd6fe1d0be6347b8ef2427fa629c04485 = $v572d4e421e5e6b9bc11d815e8a027112->getPath();$va722790b49e8eb1f37a1c672326ec501 = $this->getRelationId($v572d4e421e5e6b9bc11d815e8a027112);return  isset($vfee6447a1b671db315059e8e91473833[$vd6fe1d0be6347b8ef2427fa629c04485][$va722790b49e8eb1f37a1c672326ec501]) ? $vfee6447a1b671db315059e8e91473833[$vd6fe1d0be6347b8ef2427fa629c04485][$va722790b49e8eb1f37a1c672326ec501] : 0;}protected function getRelationId(iUrl $v572d4e421e5e6b9bc11d815e8a027112) : int {$v1b1cc7f086b3f074da452bc3129981eb = $v572d4e421e5e6b9bc11d815e8a027112->getQueryAsList();$v53f683cd63a528fcfb932a38e80cb265 = isset($v1b1cc7f086b3f074da452bc3129981eb['rel']) ? (array) $v1b1cc7f086b3f074da452bc3129981eb['rel'] : [];return (int) getFirstValue($v53f683cd63a528fcfb932a38e80cb265);}protected function storePageNumber(iUrl $v572d4e421e5e6b9bc11d815e8a027112, int $vb1bc248a7ff2b2e95569f56de68615df) : Admin {$vfee6447a1b671db315059e8e91473833 = (array) $this->sessionContainer->get('paging');$vd6fe1d0be6347b8ef2427fa629c04485 = $v572d4e421e5e6b9bc11d815e8a027112->getPath();$va722790b49e8eb1f37a1c672326ec501 = $this->getRelationId($v572d4e421e5e6b9bc11d815e8a027112);$vfee6447a1b671db315059e8e91473833[$vd6fe1d0be6347b8ef2427fa629c04485][$va722790b49e8eb1f37a1c672326ec501] = $vb1bc248a7ff2b2e95569f56de68615df;$this->sessionContainer->set('paging', $vfee6447a1b671db315059e8e91473833);return $this;}protected function defineParameterKey() : void {$this->parameterKey = self::DEFAULT_KEY;}}