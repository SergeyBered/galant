<?php
 namespace UmiCms\Classes\System\Utils\Stub;use \iDomain as iDomain;use \iConfiguration as iConfig;use UmiCms\System\Selector\iFactory as iSelectorFactory;class Resolver implements iResolver {private $config;private $selectorFactory;public function __construct(iConfig $v2245023265ae4cf87d02c8b6ba991139, iSelectorFactory $vdff401a605e5f6984373466cddee7287) {$this->config = $v2245023265ae4cf87d02c8b6ba991139;$this->selectorFactory = $vdff401a605e5f6984373466cddee7287;}public function isEnabled($v957b527bcfbad2e80f58d20683931435) {return (bool) $this->config->get('stub', 'enabled') && $this->isEnabledForIp($v957b527bcfbad2e80f58d20683931435);}public function isEnabledForDomain($v957b527bcfbad2e80f58d20683931435, iDomain $vad5f82e879a9c5d6b5b442eb37e50551) {$vdbd2fcad7571bed74a3b726c76aaab8e = (array) $this->config->get('stub', 'enabled-for-domain');return in_array($vad5f82e879a9c5d6b5b442eb37e50551->getHost(), $vdbd2fcad7571bed74a3b726c76aaab8e) && $this->isEnabledForIp($v957b527bcfbad2e80f58d20683931435, $vad5f82e879a9c5d6b5b442eb37e50551->getId());}private function isEnabledForIp($v957b527bcfbad2e80f58d20683931435, $v72ee76c5c29383b7c9f9225c1fa4d10b = null) {$v5b3c32009797feb79096d52e56a56b82 = $this->selectorFactory->createObjectTypeGuid('ip-whitelist');$v5b3c32009797feb79096d52e56a56b82->option('ignore-translate', true);if ($v72ee76c5c29383b7c9f9225c1fa4d10b) {$v5b3c32009797feb79096d52e56a56b82->where('domain_id')->equals($v72ee76c5c29383b7c9f9225c1fa4d10b);}else {$v5b3c32009797feb79096d52e56a56b82->where('domain_id')->isnull();}$v5b3c32009797feb79096d52e56a56b82->where('name')->equals($v957b527bcfbad2e80f58d20683931435);$v5b3c32009797feb79096d52e56a56b82->limit(0, 1);$v5b3c32009797feb79096d52e56a56b82->result();$v1602d1c5a1707e574521a284ff1b5a81 = (array) $this->config->get('stub', 'filter.ip');return $v5b3c32009797feb79096d52e56a56b82->length() == 0 && !in_array($v957b527bcfbad2e80f58d20683931435, $v1602d1c5a1707e574521a284ff1b5a81);}}