<?php
 namespace UmiCms\Classes\System\Controllers;use UmiCms\Utils\Browser\iDetector;class GoOutController extends AbstractController implements iGoOutController {private $browserDetector;public function setBrowserDetector(iDetector $v70fef00db84e5862fcedc2c32d20f98a) {$this->browserDetector = $v70fef00db84e5862fcedc2c32d20f98a;return $this;}public function execute() {parent::execute();if (!array_key_exists('url', $this->parameters)) {throw new \ErrorException('Incorrect router parameters given, url expected');}$v67b3dba8bc6778101892eb77249db32e = $this->request->host();$v67b3dba8bc6778101892eb77249db32e = $v67b3dba8bc6778101892eb77249db32e ? str_replace('www.', '', $v67b3dba8bc6778101892eb77249db32e) : false;$vc66c00ae9f18fc0c67d8973bd07dc4cd = $this->request->referrer() ? parse_url($this->request->referrer()) : false;$v8068ea76a6331e2c8a27393e9b8e9422 = false;if ($vc66c00ae9f18fc0c67d8973bd07dc4cd && isset($vc66c00ae9f18fc0c67d8973bd07dc4cd['host'])) {$v8068ea76a6331e2c8a27393e9b8e9422 = $vc66c00ae9f18fc0c67d8973bd07dc4cd['host'];}$v572d4e421e5e6b9bc11d815e8a027112 = $this->parameters['url'];if (!$v572d4e421e5e6b9bc11d815e8a027112 || !$v8068ea76a6331e2c8a27393e9b8e9422 || !$v67b3dba8bc6778101892eb77249db32e || !contains($v8068ea76a6331e2c8a27393e9b8e9422, $v67b3dba8bc6778101892eb77249db32e)) {$this->buffer->crash('robots_denied', 404);}if ($this->browserDetector->isRobot()) {$this->buffer->crash('robots_denied', 403);}if (startsWith($v572d4e421e5e6b9bc11d815e8a027112, '//')) {$v81788ba0d7d02d81c063dbca621ba11b = $this->request->isHttps() ? 'https' : 'http';$v572d4e421e5e6b9bc11d815e8a027112 = sprintf('%s:%s', $v81788ba0d7d02d81c063dbca621ba11b, $v572d4e421e5e6b9bc11d815e8a027112);}$this->buffer->redirect($v572d4e421e5e6b9bc11d815e8a027112);}}