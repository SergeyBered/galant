<?php
namespace UmiCms\System\Admin;use UmiCms\System\Cookies\iCookieJar;use UmiCms\System\Request\Http\iGet;use UmiCms\System\Request\Http\iPost;class Skin implements iSkin {private $config;private $controller;private $cookieJar;private $getParams;private $postParams;public function __construct(  \iConfiguration $v2245023265ae4cf87d02c8b6ba991139,  \iCmsController $v594c103f2c6e04c3d8ab059f031e0c1a,  iCookieJar $v3952212ff477ba2f5b443a38a081fecb,  iGet $veadbbc0780af345088deeab63e8cc3f8,  iPost $v368f3299b94d8d0a78ba7401ff720dcc) {$this->config = $v2245023265ae4cf87d02c8b6ba991139;$this->controller = $v594c103f2c6e04c3d8ab059f031e0c1a;$this->cookieJar = $v3952212ff477ba2f5b443a38a081fecb;$this->getParams = $veadbbc0780af345088deeab63e8cc3f8;$this->postParams = $v368f3299b94d8d0a78ba7401ff720dcc;}public function name() {$v9ae27e53b3777ca1a186c1b6e7480b88 = $this->config->getList('casual-skins');$vddaa6e8c8c412299272e183087b8f7b6 = $this->controller->getCurrentModule() . '::' . $this->controller->getCurrentMethod();foreach ($v9ae27e53b3777ca1a186c1b6e7480b88 as $v98ea47e4311222ae5ccb6b11855b8968) {if (in_array($vddaa6e8c8c412299272e183087b8f7b6, $this->config->get('casual-skins', $v98ea47e4311222ae5ccb6b11855b8968))) {return $v98ea47e4311222ae5ccb6b11855b8968;}}$vada1fd05db818d2ce8b75dcbcfbc5efd = $this->config->get('system', 'skins');if ($this->getParams->isExist('skin_sel') || $this->postParams->isExist('skin_sel')) {$v37c24a3158dc6f1aab7f6398e8cf5f70 = $this->getParams->get('skin_sel') !== null ? $this->getParams->get('skin_sel') : $this->postParams->get('skin_sel');$this->cookieJar->set('skin_sel', $v37c24a3158dc6f1aab7f6398e8cf5f70, time() + 3600 * 24 * 365);if (in_array($v37c24a3158dc6f1aab7f6398e8cf5f70, $vada1fd05db818d2ce8b75dcbcfbc5efd)) {return $v37c24a3158dc6f1aab7f6398e8cf5f70;}}if ($this->cookieJar->get('skin_sel')) {if (in_array($this->cookieJar->get('skin_sel'), $vada1fd05db818d2ce8b75dcbcfbc5efd)) {return $this->cookieJar->get('skin_sel');}}return $this->config->get('system', 'default-skin');}}