<?php
 namespace UmiCms\System\Response\Error;use UmiCms\System\Orm\Entity;class Entry extends Entity implements iEntry {protected $url;protected $code;protected $hitsCount;protected $domainId;protected $updateTime;private $domainCollection;public function __construct(\iDomainsCollection $v0d771fa031fb27561ed207afa6cf9983) {$this->domainCollection = $v0d771fa031fb27561ed207afa6cf9983;}public function setUrl($v572d4e421e5e6b9bc11d815e8a027112) {if (!is_string($v572d4e421e5e6b9bc11d815e8a027112) || isEmptyString($v572d4e421e5e6b9bc11d815e8a027112)) {throw new \ErrorException('Incorrect response error entry url given');}return $this->setDifferentValue('url', $this->clean($v572d4e421e5e6b9bc11d815e8a027112));}public function getUrl() {return $this->url;}public function setCode($vc13367945d5d4c91047b3b50234aa7ab) {if (!is_int($vc13367945d5d4c91047b3b50234aa7ab) || $vc13367945d5d4c91047b3b50234aa7ab <= 0 || !$this->isValidCode($vc13367945d5d4c91047b3b50234aa7ab)) {throw new \ErrorException('Incorrect response error entry code given');}return $this->setDifferentValue('code', $vc13367945d5d4c91047b3b50234aa7ab);}public function getCode() {return $this->code;}public function setHitsCount($ve2942a04780e223b215eb8b663cf5353) {if (!is_int($ve2942a04780e223b215eb8b663cf5353) || $ve2942a04780e223b215eb8b663cf5353 < 0) {throw new \ErrorException('Incorrect response error entry hist count given');}return $this->setDifferentValue('hitsCount', $ve2942a04780e223b215eb8b663cf5353);}public function getHitsCount() {return $this->hitsCount;}public function incrementHitsCount() {$ve59964144ee7937d0b1e5a92e21ae58a = $this->getHitsCount();$ve59964144ee7937d0b1e5a92e21ae58a = ($ve59964144ee7937d0b1e5a92e21ae58a === null) ? 0 : $ve59964144ee7937d0b1e5a92e21ae58a;return $this->setHitsCount($ve59964144ee7937d0b1e5a92e21ae58a + 1);}public function getDomainId() {return $this->domainId;}public function setDomainId($vb80bb7740288fda1f201890375a60c8f) {if (!is_int($vb80bb7740288fda1f201890375a60c8f) || $vb80bb7740288fda1f201890375a60c8f <= 0 || !$this->isValidDomainId($vb80bb7740288fda1f201890375a60c8f)) {throw new \ErrorException('Incorrect response error entry domain id given');}return $this->setDifferentValue('domainId', $vb80bb7740288fda1f201890375a60c8f);}public function getUpdateTime() {return $this->updateTime;}public function setUpdateTime($vd7e6d55ba379a13d08c25d15faf2a23b) {if (!is_int($vd7e6d55ba379a13d08c25d15faf2a23b) || $vd7e6d55ba379a13d08c25d15faf2a23b < 0) {throw new \ErrorException('Incorrect response error entry update time given');}return $this->setDifferentValue('updateTime', $vd7e6d55ba379a13d08c25d15faf2a23b);}private function clean($v572d4e421e5e6b9bc11d815e8a027112) {$vad5f82e879a9c5d6b5b442eb37e50551 = $this->domainCollection->getDomain($this->domainId);if (!$vad5f82e879a9c5d6b5b442eb37e50551 instanceof \iDomain) {return $v572d4e421e5e6b9bc11d815e8a027112;}return str_replace($vad5f82e879a9c5d6b5b442eb37e50551->getCurrentUrl(), '', $v572d4e421e5e6b9bc11d815e8a027112);}private function isValidCode($vc13367945d5d4c91047b3b50234aa7ab) {return preg_match('|^[4-5]\d{2}$|', (string) $vc13367945d5d4c91047b3b50234aa7ab);}private function isValidDomainId($vb80bb7740288fda1f201890375a60c8f) {return $this->domainCollection->isExists($vb80bb7740288fda1f201890375a60c8f);}}