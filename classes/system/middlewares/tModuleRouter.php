<?php
 namespace UmiCms\Classes\System\MiddleWares;use \iCmsController as iModuleRouter;use UmiCms\Classes\System\Controllers\AbstractController;use UmiCms\System\Events\iEventPointFactory;trait tModuleRouter {protected $v448af5bebea5d4df87d754d5776a02a7;protected $vccbabbfe82d8150e1d48822d2ff28264;public function setModuleRouter(iModuleRouter $v448af5bebea5d4df87d754d5776a02a7) {$this->moduleRouter = $v448af5bebea5d4df87d754d5776a02a7;return $this;}public function setEventPointFactory(iEventPointFactory $vccbabbfe82d8150e1d48822d2ff28264) {$this->eventPointFactory = $vccbabbfe82d8150e1d48822d2ff28264;return $this;}public function analyzeModuleRequest() {$this->moduleRouter::doSomething();$this->moduleRouter->calculateRefererUri();$v70e8822b2e035fa3777d666207aeafa8 = $this->eventPointFactory->create('routing', 'before');$v70e8822b2e035fa3777d666207aeafa8->setParam('router', $this->moduleRouter);$v70e8822b2e035fa3777d666207aeafa8->call();$v448af5bebea5d4df87d754d5776a02a7 = $v70e8822b2e035fa3777d666207aeafa8->getParam('router');if (!is_object($v448af5bebea5d4df87d754d5776a02a7) || !is_callable([$v448af5bebea5d4df87d754d5776a02a7, 'analyzePath'])) {trigger_error('Custom router must have analyzePath method, system running with default router.', E_USER_WARNING);$this->moduleRouter->analyzePath();}else {$v448af5bebea5d4df87d754d5776a02a7->analyzePath();}$v70e8822b2e035fa3777d666207aeafa8->setMode('after');$v70e8822b2e035fa3777d666207aeafa8->call();}public function executeModuleRequest($v568e4df6b72662047d3c5db25163f9ad = true) {$v6d9fecd2868e8a635b6d088c3e8068c2 = $this->moduleRouter->getGlobalVariables();$v81fa66e1de953609791315cc66bfb7af = $this->moduleRouter->getCurrentTemplater();$v10573b873d2fa5a365d558a45e328e47 = $this->getRequest();if ($v10573b873d2fa5a365d558a45e328e47->isStreamCallStack()) {$v81fa66e1de953609791315cc66bfb7af::setEnabledCallStack($v568e4df6b72662047d3c5db25163f9ad);}$v9cd3487945daada914909f0b525e1284 = $v81fa66e1de953609791315cc66bfb7af->getTemplatesSource();list($veee11561c8bf6ca21c42395ad3231c6a) = $v81fa66e1de953609791315cc66bfb7af::getTemplates($v9cd3487945daada914909f0b525e1284, 'common');if ($this->moduleRouter->getCurrentElementId()) {$v81fa66e1de953609791315cc66bfb7af->setScope($this->moduleRouter->getCurrentElementId());}$result = $v81fa66e1de953609791315cc66bfb7af->parse($v6d9fecd2868e8a635b6d088c3e8068c2, $veee11561c8bf6ca21c42395ad3231c6a);if ($v10573b873d2fa5a365d558a45e328e47->isNotAdmin()) {$result = $v81fa66e1de953609791315cc66bfb7af->cleanup($result);}return $v10573b873d2fa5a365d558a45e328e47->isStreamCallStack() ? $v81fa66e1de953609791315cc66bfb7af->getCallStackXML() : $result;}}