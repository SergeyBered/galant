<?php
 namespace UmiCms\Classes\System\Controllers;use UmiCms\System\Events\iEventPointFactory as iEventFactory;use UmiCms\System\Hierarchy\Domain\iDetector as iDomainDetector;class FaviconController extends AbstractController implements iFaviconController {private $eventFactory;private $domainDetector;public function setEventFactory(iEventFactory $v67c06be409275078f3a98d129b0123c8) {$this->eventFactory = $v67c06be409275078f3a98d129b0123c8;return $this;}public function setDomainDetector(iDomainDetector $v21aed3df2077b5d91ce46bf123446731) {$this->domainDetector = $v21aed3df2077b5d91ce46bf123446731;return $this;}public function execute() {parent::execute();$vad5f82e879a9c5d6b5b442eb37e50551 = $this->domainDetector->detect();$vd02a42d9cb3dec9320e5f550278911c7 = $vad5f82e879a9c5d6b5b442eb37e50551->getFavicon();$v4119639092e62c55ea8be348e4d9260d = $this->eventFactory->create('request-favicon', 'before');$v4119639092e62c55ea8be348e4d9260d->addRef('favicon', $vd02a42d9cb3dec9320e5f550278911c7)    ->setParam('buffer', $this->response)    ->setParam('domain', $vad5f82e879a9c5d6b5b442eb37e50551)    ->call();if (!$vd02a42d9cb3dec9320e5f550278911c7 instanceof \iUmiImageFile || $vd02a42d9cb3dec9320e5f550278911c7->getIsBroken()) {$this->buffer->status(404);$this->buffer->end();}$v4119639092e62c55ea8be348e4d9260d->setMode('after')    ->call();$this->response->pushImage($vd02a42d9cb3dec9320e5f550278911c7);}}