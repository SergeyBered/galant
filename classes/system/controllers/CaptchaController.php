<?php
 namespace UmiCms\Classes\System\Controllers;use \captchaDrawer as iGenerator;use \iUmiCaptcha as iCaptchaFacade;use \UmiCms\System\Session\iSession;class CaptchaController extends AbstractController implements iCaptchaController {private $session;private $generator;public function setSession(iSession $v21d6f40cfb511982e4424e0e250a9557) {$this->session = $v21d6f40cfb511982e4424e0e250a9557;return $this;}public function setGenerator(iCaptchaFacade $ve462b360d52bb9a4d99282975b8f9e1b) {$this->generator = $ve462b360d52bb9a4d99282975b8f9e1b::getDrawer();return $this;}public function execute() {parent::execute();$v5df7b33de53ccb5bdd5eebc7d3774ebd = $this->session->get('umi_captcha');$vc13367945d5d4c91047b3b50234aa7ab = $this->generator->getRandomCode();$vb80bb7740288fda1f201890375a60c8f = $this->request->Get()->get('id');if ($vb80bb7740288fda1f201890375a60c8f !== null) {if (is_string($v5df7b33de53ccb5bdd5eebc7d3774ebd)) {$v5df7b33de53ccb5bdd5eebc7d3774ebd = [];}$v5df7b33de53ccb5bdd5eebc7d3774ebd[$vb80bb7740288fda1f201890375a60c8f] = md5($vc13367945d5d4c91047b3b50234aa7ab);}else {$v5df7b33de53ccb5bdd5eebc7d3774ebd = md5($vc13367945d5d4c91047b3b50234aa7ab);}$this->session->set('umi_captcha', $v5df7b33de53ccb5bdd5eebc7d3774ebd);$this->buffer->setHeader('X-Robots-Tag', 'none');$this->generator->draw($vc13367945d5d4c91047b3b50234aa7ab);}}