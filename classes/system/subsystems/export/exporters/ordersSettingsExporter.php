<?php
 use UmiCms\Service;use UmiCms\Classes\System\Utils\DOM\Document\iFactory as iDomDocumentFactory;class ordersSettingsExporter extends umiExporter {private $module;public function __construct($v599dcce2998a6b40b1e38e8c6006cb0a) {parent::__construct($v599dcce2998a6b40b1e38e8c6006cb0a);$this->module = cmsController::getInstance()->getModule('emarket');if (!$this->module instanceof emarket) {throw new ErrorException('Cannot load emarket module');}}public function setOutputBuffer() {$v7f2db423a49b305459147332fb01cf87 = Service::Response()    ->getCurrentBuffer();$v7f2db423a49b305459147332fb01cf87->charset('windows-1251');$v7f2db423a49b305459147332fb01cf87->contentType('text/xml');return $v7f2db423a49b305459147332fb01cf87;}public function export($v6f017b01ac7b836b216574ebb3f5d73c, $vd1051e3a7d64c17a9cba77188937d2cd) {$v126821e2de2dcbc656ef28b6fc1cc6f8 = Service::get('DOMDocumentFactory');$vfdc3bdefb79cec8eb8211d2499e04704 = $v126821e2de2dcbc656ef28b6fc1cc6f8->create();$v3fd63517ddb244f0f99d89c10955b800 = new DOMElement('Справочник');$vfdc3bdefb79cec8eb8211d2499e04704->appendChild($v3fd63517ddb244f0f99d89c10955b800);$this->appendOrderStatuses($v3fd63517ddb244f0f99d89c10955b800);$this->appendPaymentTypes($v3fd63517ddb244f0f99d89c10955b800);$this->appendDeliveryTypes($v3fd63517ddb244f0f99d89c10955b800);return $vfdc3bdefb79cec8eb8211d2499e04704;}private function appendOrderStatuses(DOMElement $v3fd63517ddb244f0f99d89c10955b800) : void {$this->appendOptionList('Статусы', order::getStatusList(), $v3fd63517ddb244f0f99d89c10955b800);}private function appendPaymentTypes(DOMElement $v3fd63517ddb244f0f99d89c10955b800) : void {$this->appendOptionList('ПлатежныеСистемы', payment::getList(), $v3fd63517ddb244f0f99d89c10955b800);}private function appendDeliveryTypes(DOMElement $v3fd63517ddb244f0f99d89c10955b800) : void {$va9205dcfd4a6f7c2cbe8be01566ff84a = Service::Registry();$v0382b9fd9ef50b6a335f35e0aaaebf99 = (int) $va9205dcfd4a6f7c2cbe8be01566ff84a->get('//modules/emarket/delivery-with-address');$va9205dcfd4a6f7c2cbe8be01566ff84a->set('//modules/emarket/delivery-with-address', 0);$this->appendOptionList('СлужбыДоставки', delivery::getList(), $v3fd63517ddb244f0f99d89c10955b800);$va9205dcfd4a6f7c2cbe8be01566ff84a->set('//modules/emarket/delivery-with-address', $v0382b9fd9ef50b6a335f35e0aaaebf99);}private function appendOptionList(string $v9f1cf18509efa587955747cd6c177250, array $v3fc4ccbf592add60bab4a416a13b81e7, DOMElement $v6bec8fd40dbfcf1a6162c59105553b40) : void {$vb11bac8d690d3890fff0ea2ccc29da85 = new DOMElement($v9f1cf18509efa587955747cd6c177250);$v6bec8fd40dbfcf1a6162c59105553b40->appendChild($vb11bac8d690d3890fff0ea2ccc29da85);foreach ($v3fc4ccbf592add60bab4a416a13b81e7 as $vef3e30e070f70244fd6578d88a6b77ac) {$this->appendOption($vef3e30e070f70244fd6578d88a6b77ac, $vb11bac8d690d3890fff0ea2ccc29da85);}}private function appendOption(iUmiObject $vef3e30e070f70244fd6578d88a6b77ac, DOMElement $v6bec8fd40dbfcf1a6162c59105553b40) : void {$v3854490910df9108058de2c5c98b8b13 = new DOMElement('Элемент');$v6bec8fd40dbfcf1a6162c59105553b40->appendChild($v3854490910df9108058de2c5c98b8b13);$ve1b122ab67b053037e72baff9234dcd0 = new DOMElement('Ид');$ve1b122ab67b053037e72baff9234dcd0->nodeValue = $vef3e30e070f70244fd6578d88a6b77ac->getId();$ve15eb4657274510505d0e088cd398816 = new DOMElement('Название');$ve15eb4657274510505d0e088cd398816->nodeValue = $vef3e30e070f70244fd6578d88a6b77ac->getName();$v3854490910df9108058de2c5c98b8b13->appendChild($ve1b122ab67b053037e72baff9234dcd0);$v3854490910df9108058de2c5c98b8b13->appendChild($ve15eb4657274510505d0e088cd398816);}}