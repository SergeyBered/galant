<?php
 namespace UmiCms\System\Data\Object\Property\Value;class PriceTypeId extends \umiObjectProperty {private $valueId;protected function loadValue() {$v16b2b26000987faccb260b9d39df1269 = (int) $this->getObjectId();$v945100186b119048837b9859c2c46410 = (int) $this->getFieldId();$v80071f37861c360a27b7327e132c911a = $this->getTableName();$v1b1cc7f086b3f074da452bc3129981eb = <<<SQL
SELECT `id`, `obj_id`, `field_id`, `price_type_id` FROM `$v80071f37861c360a27b7327e132c911a` 
WHERE `obj_id` = $v16b2b26000987faccb260b9d39df1269 AND `field_id` = $v945100186b119048837b9859c2c46410 LIMIT 0, 1
SQL;   $result = $this->getConnection()    ->queryResult($v1b1cc7f086b3f074da452bc3129981eb);$result->setFetchType(\IQueryResult::FETCH_ASSOC);if ($result->length() == 0) {return [];}$vf1965a857bc285d26fe22023aa5ab50d = $result->fetch();$this->setValueId($vf1965a857bc285d26fe22023aa5ab50d['id']);return [    (int) $vf1965a857bc285d26fe22023aa5ab50d['price_type_id']   ];}protected function saveValue() {$va29d79168357c56b48f38e38bbc4df39 = getFirstValue($this->value);$va29d79168357c56b48f38e38bbc4df39 = is_numeric($va29d79168357c56b48f38e38bbc4df39) ? (int) $va29d79168357c56b48f38e38bbc4df39 : null;if ($this->getValueId() === null) {$this->insertRow($va29d79168357c56b48f38e38bbc4df39);}else {$this->updateRow($va29d79168357c56b48f38e38bbc4df39);}return true;}protected function isNeedToSave(array $v7f7cfde5ec586119b48911a2c75851e5) {$ve512c951064309d9e8ec506e4efa5316 = (int) getFirstValue($v7f7cfde5ec586119b48911a2c75851e5);$va51eb6cb8ff550a614b8b306f6e0ee1f = (int) getFirstValue($this->value);return $va51eb6cb8ff550a614b8b306f6e0ee1f !== $ve512c951064309d9e8ec506e4efa5316;}private function insertRow($va29d79168357c56b48f38e38bbc4df39) : void {$v80071f37861c360a27b7327e132c911a = $this->getTableName();$v16b2b26000987faccb260b9d39df1269 = (int) $this->getObjectId();$v945100186b119048837b9859c2c46410 = (int) $this->getFieldId();$va29d79168357c56b48f38e38bbc4df39 = ($va29d79168357c56b48f38e38bbc4df39 === null) ? 'NULL' : (int) $va29d79168357c56b48f38e38bbc4df39;$v1b1cc7f086b3f074da452bc3129981eb = <<<SQL
INSERT INTO `$v80071f37861c360a27b7327e132c911a` (`obj_id`, `field_id`, `price_type_id`) 
VALUES ($v16b2b26000987faccb260b9d39df1269, $v945100186b119048837b9859c2c46410, $va29d79168357c56b48f38e38bbc4df39)
SQL;   $v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v4717d53ebfdfea8477f780ec66151dcb->query($v1b1cc7f086b3f074da452bc3129981eb);$this->setValueId($v4717d53ebfdfea8477f780ec66151dcb->insertId());}private function updateRow($va29d79168357c56b48f38e38bbc4df39) : void {$v80071f37861c360a27b7327e132c911a = $this->getTableName();$va29d79168357c56b48f38e38bbc4df39 = ($va29d79168357c56b48f38e38bbc4df39 === null) ? 'NULL' : (int) $va29d79168357c56b48f38e38bbc4df39;$vdfc5e241a5663b574a0859fe0e4ebe90 = (int) $this->getValueId();$v1b1cc7f086b3f074da452bc3129981eb = <<<SQL
UPDATE `$v80071f37861c360a27b7327e132c911a` SET `price_type_id` = $va29d79168357c56b48f38e38bbc4df39 WHERE `id` = $vdfc5e241a5663b574a0859fe0e4ebe90
SQL;   $this->getConnection()    ->query($v1b1cc7f086b3f074da452bc3129981eb);}private function setValueId($vb80bb7740288fda1f201890375a60c8f) : PriceTypeId {$this->valueId = (int) $vb80bb7740288fda1f201890375a60c8f;return $this;}private function getValueId() : ?int {return $this->valueId;}}